

void generateWorld()
{
    tuple<int, int> mapSize;
    string currentBoss = "";
    int selectionIndex = 0;
    currentBoss = selectBoss(setArea, currentAreaDay);
    setupPlayer();

    bool mapSelected = true;
    while (true) {
        cout << colourText("", RESET);
        displayTitle();
        string dayInfo = currentAreaTime + " [" + currentAreaDayOrNight + " " + to_string(currentAreaDay) + "]";
        string reset_colour = "";

        if (mapSelected) {
            reset_colour = RESET;
        }
        else {
            reset_colour = INACTIVE;
        }

        // Details + Map Display
        cout << colourText(" Next Boss: ", BLUE, reset_colour) << currentBoss << " [Q]\n";
        cout << colourText(" Current Time: ", BLUE, reset_colour) << dayInfo << "\n";
        mapSize = displayMap(worldMap, reset_colour);
        cout << colourText("", RESET);
        cout << textSeparator;

        if (!mapSelected) {
            reset_colour = RESET;
        }
        else {
            reset_colour = INACTIVE;
        }

        cout << colourText(" HP: ", GREEN, reset_colour) << playerHP << " | " << colourText("ATK: ", RED, reset_colour) << playerATK << " | " << colourText("DEF: ", BLUE, reset_colour) << playerDEF << " | " << colourText("SPD: ", YELLOW, reset_colour) << playerSPD << "\n\n";
        // cout << "   " << playerWeapon << endl;

        // Inventory Display
        int index = 0;
        string displayString = "";
        vector<string> displayList = {};
        int unknownItemCounter = 1;
       
        displayList.push_back(playerWeapon);
        for (string item : playerInventory) {
            if (item != "Empty") { displayList.push_back(item); }
            else {
                displayList.push_back("Empty #" + to_string(unknownItemCounter));
                ++unknownItemCounter;
            }
        }

        string selectionValue = displayList[selectionIndex];
        for (string selectionItem : displayList) {
            if (selectionValue == selectionItem && !mapSelected) {
                if (index != 0) { displayString = " > [" + to_string(index) + "] " + selectionItem; }
                else { displayString = " > " + selectionItem; }
                cout << colourText(displayString, YELLOW, reset_colour) << "\n";
            }
            else {
                if (index != 0) { displayString = "   [" + to_string(index) + "] " + selectionItem; }
                else { displayString = "   " + selectionItem; }
                cout << displayString << "\n";
            }
            index++;
        }

        // Get Player Input
        while (true) {
            char input = _getch();
            if (mapSelected) {
                if (input == 'q') {
                    qPressCheck(currentBoss);
                }
                else if (input == 'w' || input == 'a' || input == 's' || input == 'd') {
                    playerMovementUpdate(input, mapSize);
                    clearScreen();
                    break;
                }
                else if (input == 'e') {
                    clearScreen();
                    mapSelected = false;
                    break;
                }
            }
            else {
                if (input == 'q') {
                    qPressCheck(selectionValue);
                }
                else if (input == 'e') {
                    clearScreen();
                    mapSelected = true;
                    break;
                }
                else if (input == 's' || input == 'w') {
                    int newSelectionIndex = selectionIndexUpdate(selectionIndex, displayList.size(), input);
                    selectionIndex = newSelectionIndex;
                    clearScreen();
                    break;
                }
            }
        }
    }

}
